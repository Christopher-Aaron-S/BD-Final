<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<Pane prefHeight="500.0" prefWidth="600.0" style="-fx-background-color: #ffffff;" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="MainApp.Forgotpass">
    <children>

        <!-- Right side pane -->
        <StackPane layoutX="400.0" prefHeight="500.0" prefWidth="200.0" style="-fx-background-color: #E5D9F2;" />

        <!-- Title -->
        <Label layoutX="114.0" layoutY="30.0" prefHeight="42.0" prefWidth="155.0" text="STUDENT CLUB" textAlignment="CENTER">
            <font>
                <Font name="Times New Roman Bold" size="20.0" />
            </font>
        </Label>

        <!-- Error Message -->
        <HBox fx:id="errorBox" alignment="CENTER_LEFT" layoutX="28.0" layoutY="105.0" managed="false" prefWidth="340.0" spacing="10" style="-fx-background-color: #f8d7da; -fx-border-color: #f5c6cb; -fx-border-radius: 5; -fx-background-radius: 5; -fx-padding: 10;" visible="false">
            <children>
                <Button onAction="#hideError" style="-fx-background-color: transparent; -fx-text-fill: #721c24; -fx-font-size: 14px; -fx-alignment: CENTER;" text="✖" />
                <Label fx:id="errorMessageLabel" style="-fx-font-size: 13px;" text="Invalid credentials." textFill="#721c24" wrapText="true" />
            </children>
        </HBox>

        <!-- Username -->
        <VBox layoutX="28.0" layoutY="160.0" prefWidth="340.0" spacing="5.0">
            <children>
                <Label text="Username" />
                <TextField fx:id="usernameField" promptText="Enter your username" />
            </children>
        </VBox>
        <!-- new Password -->
        <VBox layoutX="28.0" layoutY="218.0" prefHeight="64.0" prefWidth="340.0">
            <children>
                <Label text="New Password">
                    <VBox.margin>
                        <Insets bottom="3.0" top="3.0" />
                    </VBox.margin>
                </Label>
                <StackPane>
                    <children>
                        <PasswordField fx:id="passwordField" prefWidth="320" promptText="Enter new password" />
                        <TextField fx:id="visiblePasswordField" managed="false" prefWidth="320" promptText="Enter new password" visible="false" />
                        <Button fx:id="togglePasswordButton" onAction="#togglePasswordVisibility" style="-fx-background-color: transparent;" text="👁" translateX="-5" StackPane.alignment="CENTER_RIGHT" />
                    </children>
                </StackPane>
            </children>
        </VBox>
        <!-- Confirm Password -->
        <VBox layoutX="28.0" layoutY="276.0" prefHeight="64.0" prefWidth="340.0">
            <children>
                <Label text="Confirm New Password">
                    <VBox.margin>
                        <Insets bottom="3.0" top="3.0" />
                    </VBox.margin>
                </Label>
                <StackPane>
                    <children>
                        <PasswordField fx:id="confirmPasswordField" prefWidth="320" promptText="Confirm new password" />
                        <TextField fx:id="visibleConfirmPasswordField" managed="false" prefWidth="320" promptText="Confirm new password" visible="false" />
                        <Button fx:id="toggleConfirmPasswordButton" onAction="#toggleConfirmPasswordVisibility" style="-fx-background-color: transparent;" text="👁" translateX="-5" StackPane.alignment="CENTER_RIGHT" />
                    </children>
                </StackPane>
            </children>
        </VBox>

        <!-- Reset Password Button -->
        <Button layoutX="63.0" layoutY="337.0" text="Reset Password" onAction="#handleResetPassword"
                style="-fx-background-color: #1A237E; -fx-text-fill: white; -fx-font-weight: bold;" prefWidth="260.0" prefHeight="30.0" />

        <!-- Back to login -->
        <Label layoutX="64.0" layoutY="375.0" text="Remembered your password?" />
        <Hyperlink layoutX="250.0" layoutY="371.0" text="Back to Login" onAction="#goToLogin" />

    </children>
</Pane>
